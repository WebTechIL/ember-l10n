/*! gettext.js - Guillaume Potier - MIT Licensed */
!function(t,r){"function"==typeof define?define("i18n",["exports"],function(t){return t["default"]=r()}):"object"==typeof module?module.exports=r():t.i18n=r()}(this,function(t){var r=function(r){r=r||{},this.__version="0.5.2";var n={domain:"messages",locale:"undefined"!=typeof document?document.documentElement.getAttribute("lang")||"en":"en",plural_func:function(t){return{nplurals:2,plural:1!=t?1:0}},ctxt_delimiter:String.fromCharCode(4)},e={isObject:function(t){var r=typeof t;return"function"===r||"object"===r&&!!t},isArray:function(t){return"[object Array]"===toString.call(t)}},l={},a=r.locale||n.locale,o=r.domain||n.domain,i={},u={},s=r.ctxt_delimiter||n.ctxt_delimiter;r.messages&&(i[o]={},i[o][a]=r.messages),r.plural_forms&&(u[a]=r.plural_forms);var p=function(t){var r=arguments;return t.replace(/%(\d+)/g,function(t,n){return r[n]})},c=function(t){var r=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!r.test(t))throw new Error(p('The plural form "%1" is not valid',t));return new Function("n","var plural, nplurals; "+t+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},f=function(t,r,n){if(1===t.length)return p.apply(this,[t[0]].concat(Array.prototype.slice.call(arguments,3)));var e;return n.plural_func?e=n.plural_func(r):l[a]?e=l[a](r):(l[a]=c(u[a]),e=l[a](r)),("undefined"==typeof e.plural||e.plural>e.nplurals||t.length<=e.plural)&&(e.plural=0),p.apply(this,[t[e.plural],r].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:p,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(t,r,n,l){if(!t||!r||!n)throw new Error("You must provide a domain, a locale and messages");if("string"!=typeof t||"string"!=typeof r||!e.isObject(n))throw new Error("Invalid arguments");return l&&(u[r]=l),i[t]||(i[t]={}),i[t][r]=n,this},loadJSON:function(t,r){if(e.isObject(t)||(t=JSON.parse(t)),!t[""]||!t[""].language||!t[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var l=t[""];return delete t[""],this.setMessages(r||n.domain,l.language,t,l["plural-forms"])},setLocale:function(t){return a=t,this},getLocale:function(){return a},textdomain:function(t){return t?(o=t,this):o},gettext:function(r){return this.dcnpgettext.apply(this,[t,t,r,t,t].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(r,n,e){return this.dcnpgettext.apply(this,[t,t,r,n,e].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(r,n){return this.dcnpgettext.apply(this,[t,r,n,t,t].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(t,r,e,l,u){if(t=t||o,"string"!=typeof e)throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',e));var p,c={},g=r?r+s+e:e,y=i[t]&&i[t][a]&&i[t][a][g];return y=l?y&&"string"!=typeof i[t][a][g]:y&&"string"==typeof i[t][a][g],y?p=i[t][a][g]:(p=e,c.plural_func=n.plural_func),l?f.apply(this,[y?p:[e,l],u,c].concat(Array.prototype.slice.call(arguments,5))):f.apply(this,[[p],u,c].concat(Array.prototype.slice.call(arguments,5)))}}};return r});